<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>ChatApp</title>
    <link rel="stylesheet" href="build/bundle.css">
    <link rel="stylesheet" href="src/main.css">
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../node_modules/@fortawesome/fontawesome-free/css/all.min.css">
    <link rel="stylesheet" href="../node_modules/react-chat-elements/dist/main.css">
    <link rel="stylesheet" href="../node_modules/react-loading-bar/dist/index.css">
    <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" type="text/css"
        rel="stylesheet" /> -->
    <script src="https://use.typekit.net/hoy3lrg.js"></script>
    <script>try { Typekit.load({ async: true }); } catch (e) { }</script>
    <link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css'>
    <link rel='stylesheet prefetch'
        href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css'>
</head>

<body>

    <div id="app"></div>
    <script src="build/bundle.js"></script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- <script src='//production-assets.codepen.io/assets/common/stopExecutionOnTimeout-b2a7b3fe212eaa732349046d8416e00a9dec26eb7fd347590fbced3ab38af52e.js'></script> -->
    <!-- <script src="../stoptimeout.js"></script> -->
    <script src='https://code.jquery.com/jquery-2.2.4.min.js'></script>

    <script>
        //$(".messages").animate({ scrollTop: $(document).height() }, "fast");

        $("#profile-img").click(function () {
            $("#status-options").toggleClass("active");
        });

        // $(".expand-button").click(function () {
        //     $("#profile").toggleClass("expanded");
        //     $("#contacts").toggleClass("expanded");
        // });

        $("#status-options ul li").click(function () {
            $("#profile-img").removeClass();
            $("#status-online").removeClass("active");
            $("#status-away").removeClass("active");
            $("#status-busy").removeClass("active");
            $("#status-offline").removeClass("active");
            $(this).addClass("active");

            if ($("#status-online").hasClass("active")) {
                $("#profile-img").addClass("online");
            } else if ($("#status-away").hasClass("active")) {
                $("#profile-img").addClass("away");
            } else if ($("#status-busy").hasClass("active")) {
                $("#profile-img").addClass("busy");
            } else if ($("#status-offline").hasClass("active")) {
                $("#profile-img").addClass("offline");
            } else {
                $("#profile-img").removeClass();
            };

            $("#status-options").removeClass("active");
        });

        function newMessage() {
            message = $(".message-input input").val();
            if ($.trim(message) == '') {
                return false;
            }
            //$('<li class="sent"><img src="http://emilcarlsson.se/assets/mikeross.png" alt="" /><p>' + message + '</p></li>').appendTo($('.messages ul'));
            $('.message-input input').val(null);
            // $('.contact.active .preview').html('<span>You: </span>' + message);
            //$(".messages").animate({ scrollTop: $(document).height() }, "fast");
        };

        $('.submit').click(function () {
            newMessage();
            var objDiv = document.getElementById("messages");
            //$(".messages").animate({ scrollTop: objDiv.scrollHeight }, "fast");
        });

        $(window).on('keydown', function (e) {
            if (e.which == 13) {
                newMessage();
                return false;
            }
        });
        // [ADD][TtitleBar]
        const electron = require('electron')
        const remote = electron.remote;
        const win = remote.getCurrentWindow();
        $('div #close-button').click((e) => {
            win.close();
        });
        $('div #min-button').click((e) => {
            win.minimize();
        });
        $('div #max-button').click((e) => {
            win.maximize();
        });
        $('div #restore-button').click((e) => {
            win.unmaximize();
        });
        // [END][TtitleBar]

        // $(window).on('load', function () {
        //     var objDiv = document.getElementById("messages");
        //     $(".messages").animate({ scrollTop: objDiv.scrollHeight }, "fast");
        // });
            //# sourceURL=pen.js
    </script>
</body>

</html>